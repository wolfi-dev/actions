---
name: 'wolfictl-update-gh'
description: |
  Wolfictl Update From GitHub.

inputs:
  repository:
    description: |
      GitHub repository to use org/repo.
    required: true
    default: ""
  token:
    description: |
      GitHub Token or OctoSts token.
    required: true
    default: ""
  git_author_name:
    description: |
      Author name to commit.
    required: true
    default: ""
  git_author_email:
    description: |
      Author emails to commit.
    required: true
    default: ""

runs:
  using: 'docker'
  image: docker://ghcr.io/wolfi-dev/wolfictl:latest@sha256:a12a3cdab1330d4bf07dc93d1a501de8b27373896698458a7112bf34230ac8c1
  entrypoint: wolfictl
  args:
    - update
    - https://github.com/${{ inputs.repository }}
    - --release-monitoring-query=false
    - --use-gitsign
    - --github-labels=request-version-update
    - --github-labels=automated pr
  env:
    GITHUB_TOKEN: ${{ inputs.token }}
    GIT_AUTHOR_NAME: ${{ inputs.git_author_name }}
    GIT_AUTHOR_EMAIL: ${{ inputs.git_author_email }}
