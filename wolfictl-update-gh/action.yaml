---
name: 'wolfictl-update-gh'
description: |
  Wolfictl Update From GitHub.

inputs:
  repository:
    description: |
      GitHub repository to use org/repo.
    required: true
    default: ""
  token:
    description: |
      GitHub Token or OctoSts token.
    required: true
    default: ""
  git_author_name:
    description: |
      Author name to commit.
    required: true
    default: ""
  git_author_email:
    description: |
      Author emails to commit.
    required: true
    default: ""

runs:
  using: 'docker'
  image: docker://ghcr.io/wolfi-dev/wolfictl:latest@sha256:4a6ededde0f495bf25181e24c39e8c2416fb7dd41a0c2e4e3ffea0fc29e7cbd1
  entrypoint: wolfictl
  args:
    - update
    - https://github.com/${{ inputs.repository }}
    - --release-monitoring-query=false
    - --use-gitsign
    - --github-labels=request-version-update
    - --github-labels=automated pr
  env:
    GITHUB_TOKEN: ${{ inputs.token }}
    GIT_AUTHOR_NAME: ${{ inputs.git_author_name }}
    GIT_AUTHOR_EMAIL: ${{ inputs.git_author_email }}
